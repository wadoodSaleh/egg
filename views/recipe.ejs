<!DOCTYPE html>
<%- include('parts/header', { pageName: recipe.name , pageTitle: recipe.name, bodyClass: 'body_recipy' }) %>

  <div class="panel-container" style="max-width: 800px; text-align: left;">
    <div class="panel-inner">
      <div style="text-align: center;">
        <img src="<%= recipe.image_path %>" alt="<%= recipe.name %>" class="recipe-detail-image">
      </div>

      <div class="recipe-content-grid">
        <div class="ingredients-section">
          <h2 class="panel-title" style="font-size: 1.8rem; text-align: center;">Ingredients</h2>
          <ul class="styled-list">
            <% recipe.ingredients.forEach(item=> { %>
              <li><span class="pixel-bullet">></span>
                <%= item %>
              </li>
              <% }) %>
          </ul>
        </div>

        <div class="instructions-section">
          <h2 class="panel-title" style="font-size: 1.8rem; text-align: center;">Instructions</h2>
          <ol class="styled-list">
            <% recipe.instructions.forEach((step, index)=> { %>
              <li><span class="pixel-number">
                  <%= index + 1 %>
                </span>
                <%= step %>
              </li>
              <% }) %>
          </ol>
        </div>
      </div>
    </div>



    <!-- Owner Actions -->
    <% if (locals.isOwner) { %>
      <div class="menu_buttons" style="position: static; transform: none; margin-top: 2rem; padding: 0;">
        <a href="/recipe/<%= recipe.slug %>/edit" class="btn-action btn-edit">Edit</a>

        <form action="/recipe/<%= recipe.slug %>/delete" method="POST"
          onsubmit="return confirm('Are you sure you want to delete this recipe?');" style="display: inline;">
          <button type="submit" class="btn-action btn-delete">Delete</button>
        </form>
      </div>
      <% } %>

        <!-- Timer -->
        <%- include("parts/timer", { recipe }) %>
          <%- include('parts/footer') %>

            </html>