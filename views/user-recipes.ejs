<!DOCTYPE html>
<%- include('parts/header', { pageName: 'Community' , pageTitle: 'Community Recipes' , bodyClass: 'body_leaderboard' })
    %>

    <div class="panel-container" style="max-width: 1000px;">
        <div class="panel-inner">
            <h1 class="panel-title">Community Recipes</h1>
            <p class="panel-subtitle">RECIPES SHARED BY EGG ENTHUSIASTS</p>

            <% if (recipes && recipes.length> 0) { %>
                <ul class="recipe-grid">
                    <% recipes.forEach(function(recipe) { %>
                        <li class="recipe-card">
                            <a href="/recipe/<%= recipe.slug %>" class="recipe-link">
                                <div class="recipe-image-container">
                                    <img src="<%= recipe.image_path %>" alt="<%= recipe.name %>" class="recipe-image">
                                </div>
                                <div class="recipe-info">
                                    <h3 class="recipe-name">
                                        <%= recipe.name %>
                                    </h3>
                                    <p class="recipe-chef">Chef: <%= recipe.username %>
                                    </p>
                                </div>
                            </a>
                        </li>
                        <% }); %>
                </ul>
                <% } else { %>
                    <div class="no-recipes">
                        <p>No community recipes yet. Be the first to share one!</p>
                        <a href="/add-recipe" class="action-btn">Share a Recipe</a>
                    </div>
                    <% } %>

                        <a href="/menu" class="back-btn">Back to Menu</a>
        </div>
    </div>

    <style>
        .recipe-grid {
            list-style: none;
            padding: 0;
            margin: 20px 0;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .recipe-card {
            background: white;
            border: 3px solid #EC8784;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .recipe-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(236, 135, 132, 0.4);
        }

        .recipe-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .recipe-image-container {
            width: 100%;
            height: 150px;
            background: #fff9e6;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 2px solid #EC8784;
            overflow: hidden;
        }

        .recipe-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            image-rendering: pixelated;
        }

        .recipe-info {
            padding: 10px;
            text-align: left;
        }

        .recipe-name {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 5px;
            font-weight: bold;
            text-transform: capitalize;
        }

        .recipe-chef {
            font-size: 0.8rem;
            color: #EC8784;
            font-weight: bold;
            text-transform: uppercase;
        }

        .no-recipes {
            padding: 2rem;
            text-align: center;
            color: #666;
        }

        .action-btn {
            display: inline-block;
            margin-top: 1rem;
            background: #F8E769;
            border: 2px solid #EC8784;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: #EC8784;
            font-weight: bold;
            text-decoration: none;
            text-transform: uppercase;
        }
    </style>

    <%- include('parts/footer') %>